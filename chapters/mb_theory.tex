\documentclass[../report.tex]{subfiles}
\begin{document}
A basic fact of quantum mechanics is that particles that look identical \emph{are} identical. It is also known that there are only two types of particles, bosons and fermions, and that systems of many bosons and fermions behave differently. When exhanging the coordinates of two particles, the wavefunction of a bosonic system is unchanged, whereas a fermionic wavefunction changes sign. We say that the bosonic wavefunction is \emph{symmetric} and that the fermionic wavefunction is antisymmetric. 

The Schr√∂dinger equation for a system of $N$ identical particles can be expressed as
\begin{eq}
  \p{
    \sum_{i} \frac{1}{2m}\nabla^2_i + \sum_{i < j} V(\vec{r}_i, \vec{r}_j)
  } \psi(\vec{r}_1, \vec{r}_2, ..., \vec{r}_N)
  =
  E \psi(\vec{r}_1, \vec{r}_2, ..., \vec{r}_N),
\end{eq}
but this is not a particularly convenient form for many-body manipulation. It is especially inconvenient when working with systems that do not have a fixed number of particles. This form is called the first quantization.

We would instead like to describe the system as a combination of single particle (sp) states and particles that occupy these states. The operators can then be expressed using creation and annihilation operators that allow us to work with an arbitrary number of particles.

\todo{We should mention there is something similar for bosons.}
\section{Fermionic states}

\todo{Use $\alpha$ or something else?}
We begin with an orthonormal single particle (sp) basis $\ket\alpha$, where $\alpha$ represents all the quantum numbers that describe the state. Next, consider $N$ identical particles, expressed in this basis. We form a product state
\begin{eq}
  \pket{\alpha_1\alpha_2\dots\alpha_N} 
  \equiv
  \ket{\alpha_1} \otimes \ket{\alpha_2} \otimes \dots \otimes \ket{\alpha_N}
  =
  \ket{\alpha_1}\ket{\alpha_2}\dots\ket{\alpha_N},
\end{eq}
which, by the orthonormality of the $\ket\alpha$, will be orthonormal as well
\begin{eq}
  \pbraket{\alpha_1\alpha_2\dots\alpha_N}{\alpha'_1\alpha'_2\dots\alpha'_N}
  =
  \braket{\alpha_1}{\alpha'_1}
  \braket{\alpha_2}{\alpha'_2}
  \dots
  \braket{\alpha_N}{\alpha'_N}.
\end{eq}
These states span the Hilbert space of the $N$-body problem, but do not incorporate the right symmetry for fermions. 
To obey the pauli principle, fermionic states need to be antisymmetric, i.e. change sign under exchange of quantum numbers for two particles 
\begin{eq}
  \ket{\alpha_1\alpha_2\dots\alpha_i\dots\alpha_j\dots\alpha_N} 
  = 
  - \ket{\alpha_1\alpha_2\dots\alpha_j\dots\alpha_i\dots\alpha_N}.
\end{eq}
Fermionic, antisymmetrized states can be expressed as a linear combination of the product states. 
For example, in the case of two particles, the correctly normalized antisymmetric state is
\begin{eq}
  \ket{\alpha_1\alpha_2} 
  = 
  \frac{1}{\sqrt{2}}
  \bigp{
    \pket{\alpha_1\alpha_2} - \pket{\alpha_2\alpha_1}
  }.
\end{eq}
Note the use of angular ket notation $\ket\dots$ for antisymmetric states, as opposed to $\pket\dots$ for product states.

Because the antisymmetric states change sign on exchange of two particles, should two particles be in the same state, the state will become 0. Thus, no particles can occupy the same state and the Pauli principle is satisfied.

Important to note is that states with permuted quantum numbers, such as the states $\ket{\alpha_1\alpha_2}$ and $\ket{\alpha_2\alpha_1}$, represent the same physical state, as they only differ in sign (phase). 
This means that we have to make sure not to double count these states. 
We can do this by requiring the sp states to always appear in the same order in the ket. If they aren't, we permute two sp states at a time until the correct ordering is reached
\begin{eq}
  \ket{\alpha_i\alpha_1\dots\alpha_{i-1}\alpha_{i+1}\dots\alpha_N}
  & =
  - \ket{\alpha_1\alpha_i\dots\alpha_{i-1}\alpha_{i+1}\dots\alpha_N}
  \\ & =
  (-1)^{i-2} 
  \ket{\alpha_1\dots\alpha_i\alpha_{i-1}\alpha_{i+1}\dots\alpha_N}
  \\ & =
  (-1)^{i-1} 
  \ket{\alpha_1\dots\alpha_{i-1}\alpha_i\alpha_{i+1}\dots\alpha_N}.
\end{eq}

\section{Fock Space}
\todo{Call chapter ``Creation and annihilation operators''?}

\todo{Should mention second quantization here somewhere}
So far we've looked at a system with a fixed number of particles, but we want to work with a system with an arbitrary number of identical particles. The construction that lets us do this is called the \emph{Fock space}. A state in Fock space, a \emph{Fock state}, can contain any number of particles. States with different number of particles are orthogonal to each other.

\todo{particle addition/removal operators?}
The simplest Fock state is the \emph{vacuum state} $\ket{0}$, which describes a system with no particles. 
All other states can be created from the vacuum state using the \emph{creation operator} $a_\alpha^\dag$, which adds a particle with quantum numbers $\alpha$ to a state
\begin{eq}
  a_{\alpha}^{\dagger} \ket{\alpha_1 \alpha_2 ... \alpha_N} 
  =
  \ket{\alpha \alpha_1 \alpha_2 ... \alpha_N}.
\end{eq}
The resulting state will not necessarily be ordered, and the ordering might contribute a sign:
\begin{eq}
  a_{\alpha_i}^{\dagger} 
  \ket{\alpha_1 \alpha_2 ... \alpha_{i-1} \alpha_{i+1}...\alpha_{N}} 
  =
  (-1)^{i-1} 
  \ket{\alpha_1 \alpha_2 ... \alpha_{i-1} \alpha_i \alpha_{i+1} ... \alpha_{N}}.
\end{eq}
Note that when $a_\alpha^\dag$ acts on a state that already contains a particle with quantum numbers $\alpha$, the result is 0, because of antisymmetry
\begin{eq}
  a_{\alpha}^{\dagger} \ket{\alpha\alpha_1 \alpha_2 ... \alpha_N} 
  =
  0.
  \label{eq:creation_zero}
\end{eq}

The adjoint of the creation operator is called the \emph{annihilation operator} $a_\alpha$. 
It can be shown to have the opposite effect, removing a particle, when acting on a state
\begin{eq}
  a_{\alpha} \ket{\alpha \alpha_1 \alpha_2 ... \alpha_N}
  =
  \ket{\alpha_1 \alpha_2 ... \alpha_N}.
\end{eq}
Here, too, a sign might appear from the ordering
\begin{eq}
  a_{\alpha_i}
  \ket{\alpha_1 \alpha_2 ... \alpha_{i-1} \alpha_i \alpha_{i+1} ... \alpha_N}
  =
  (-1)^{i-1}
  \ket{\alpha_1 \alpha_2 ... \alpha_{i-1} \alpha_{i+1}...\alpha_N}.
\end{eq}
Analogous to $a_\alpha^\dag$, when $a_\alpha$ acts on a state that does not contain a particle with the quantum numbers $\alpha$, the result is 0
\begin{eq}
  a_\alpha \ket{\alpha_1 \alpha_2 ... \alpha_N} 
  =
  0.
  \label{eq:annihilation_zero}
\end{eq}


\section{Operators in Fock Space}

We can now express the state of any number of particles, but in order to do something with the states we also need to express operators in the Fock space formalism. It turns out that operators involving any number of particles can be expressed using the creation and annihilation operators. The operators can then act on a state with an arbitrary number of particles. We will only treat one- and two-body operators here, as they are all we need in this report.

\subsection{One-body operators}

A one-body operator $H_1$ which acts on a single sp state, is represented by the Fock space operator
\begin{eq}
  \hat{H}_1
  =
  \sum_{\alpha \beta} 
  \bra\alpha H_1 \ket\beta 
  a_\alpha^\dag a_\beta.
\end{eq}
Important to note is that, while the sum runs over the complete set of sp states twice, only a few terms will be non-zero, because of the operator rules in \cref{eq:creation_zero,eq:annihilation_zero}. 

\todo{$\alpha$ bad notation?}
If the sp-states are eigenstates to the one-body operator
\begin{eq}
  H_1 \ket{\alpha_i} = h_i \ket{\alpha_i}
\end{eq}
the matrix elements only exist on the diagonal, when $\alpha = \beta$, and we get
\begin{eq}
  \hat{H}_1
  =
  \sum_{\alpha} 
  \bra\alpha H_1 \ket\alpha
  a_\alpha^\dag a_\alpha.
\end{eq}
Sandwiched between a bra and a ket, this becomes
\begin{eq}
  \bra{\alpha_1\dots\alpha_N} \hat{H}_1 \ket{\alpha'_1\dots\alpha'_N}
  & =
  \sum_{\alpha} 
  \bra\alpha H_1 \ket\alpha
  \bra{\alpha_1\dots\alpha_N} 
  a_\alpha^\dag a_\alpha
  \ket{\alpha'_1\dots\alpha'_N}
  \\ & =
  \sum_{i = 1}^N 
  \bra{\alpha_i} H_1 \ket{\alpha_i}
  \braket{\alpha_1\dots\alpha_N}{\alpha'_1\dots\alpha'_N}
  \\ & =
  \p{
    h_1 + \dots + h_N
  }
  \delta_{\alpha_1\alpha'_1} \dots \delta_{\alpha_N\alpha'_N},
\end{eq}
the sum of the eigenvalues of the sp states in the bra and ket, but only if the bra and ket are the same. The Fock space operator $\hat{H}_1$ is thus also diagonal.

\subsection{Two-body operators}

A two-body operator in Fock space becomes
\begin{eq}
  \hat{H}_2
  =
  \frac{1}{2}\sum_{\alpha \beta \gamma \delta} 
  \pbra{\alpha \beta} H_2 \pket{\gamma \delta} 
  a_\alpha^\dag a_\beta^\dag a_\delta a_\gamma.
\end{eq}
Note that the ordering of the $\gamma$ and $\delta$ is different for the product states and the operators, so-called \emph{normal ordering}.
The factor \nicefrac{1}{2} stems from the fact that
\begin{eq}
  \pbra{\alpha \beta} H_2 \pket{\gamma \delta} 
  = 
  \pbra{\beta \alpha} H_2 \pket{\delta \gamma}
\end{eq}
and we are counting both.

We can also express $\hat{H}_2$ using matrix elements between antisymmetric states
\begin{eq}
  \bra{\alpha\beta} H_2 \ket{\gamma\delta} 
  = 
  \pbra{\alpha\beta} H_2 \pket{\gamma\delta}
  -
  \pbra{\alpha\beta} H_2 \pket{\delta\gamma},
\end{eq}
but we will have to add another factor \nicefrac{1}{2} to compensate for double counting
\begin{eq}
  \hat{H}_2
  =
  \frac{1}{4}\sum_{\alpha \beta \gamma \delta} 
  \bra{\alpha \beta} H_2 \ket{\gamma \delta} 
  a_\alpha^\dag a_\beta^\dag a_\delta a_\gamma.
\end{eq}
The double counting can be avoided by taking into account the ordering of the states
\begin{eq}
  \hat{H}_2
  =
  \sum_{\substack{\alpha < \beta \\ \gamma < \delta}} 
  \bra{\alpha \beta} H_2 \ket{\gamma \delta} 
  a_\alpha^\dag a_\beta^\dag a_\delta a_\gamma.
\end{eq}

For the case of two particles we have
\begin{eq}
  \bra{\alpha_1\alpha_2} \hat{H}_2 \ket{\alpha'_1\alpha'_2}
  & =
  \sum_{\substack{\alpha < \beta \\ \gamma < \delta}} 
  \bra{\alpha \beta} H_2 \ket{\gamma \delta} 
  \bra{\alpha_1\alpha_2} 
  a_\alpha^\dag a_\beta^\dag a_\delta a_\gamma
  \ket{\alpha'_1\alpha'_2}
  \\ & =
  \sum_{\substack{\alpha < \beta \\ \gamma < \delta}} 
  \bra{\alpha \beta} H_2 \ket{\gamma \delta}
  \delta_{\alpha\alpha_1}\delta_{\beta\alpha_2}
  \delta_{\gamma\alpha'_1}\delta_{\delta\alpha'_2}
  \\ & =
  \bra{\alpha_1\alpha_2} H_2 \ket{\alpha'_1\alpha'_2},
\end{eq}
as expected.

\section{Implementation}

In order to use the fock space formalism in numerical calculations

\end{document}
